<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="stylesheet.css" type="text/css" rel="stylesheet">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <div class="container">
        <div class="results">
            <div class="player"><img src='images/person.svg'/></div>
            <div class="versus">
                <img src="images/swords-sword-svgrepo-com.svg">
            </div>
            <div class="computer"><img src='images/robot.svg'/></div>
        </div>
        <div class="options">
            <div class="hands" id="rock"></div>
            <div class="hands" id="paper"></div>
            <div class="hands" id="scissors"></div>
        </div>
    </div>
    


    <script>
        // Computer generates random hand.
        function getComputer() {
            const hands = ["Rock", "Paper", "Scissors"];
            let randomNumber = Math.floor(Math.random() * 3);
            let computerChoice = hands[randomNumber];
            console.log("Computer choice:" + computerChoice);
            return computerChoice;
        };

        // Compare player choice versus computer choice
        function checkWin(playerSelection, computerSelection) {
            if (playerSelection == "Rock" && computerSelection == "Scissors" || playerSelection == "Paper" && computerSelection == "Rock" || 
            playerSelection == "Scissors" && computerSelection == "Paper") {
                console.log("YouwiN");
                return 1;
            }
            if (playerSelection == computerSelection) {
                console.log("You draw this round.");
                return 2;
            } 
            else {
                console.log("You lose");
                return 3;
            }
        };

        // Set colors to user
        function setColor(winLose) {
            let player = document.querySelector('.player');
            let computer = document.querySelector('.computer');
            if (winLose == 1) {
                player.classList.add('win');
                computer.classList.add('lose');

            } else if (winLose == 2) {
                player.classList.add('draw');
                computer.classList.add('draw');

            } else {
                player.classList.add('lose');
                computer.classList.add('win');

            }
        }

        // reset styles
        function reset() {
            let player = document.querySelector('.player');
            let computer = document.querySelector('.computer');
            player.classList.remove('win', 'lose', 'draw');
            player.classList.add('default');
            computer.classList.remove('win', 'lose', 'draw');
            computer.classList.add('default');

        }

        // Main function to execute round
        function playRound(playerChoice) {
            let computerChoice = getComputer();
            let isWin = checkWin(playerChoice, computerChoice);
            setColor(isWin);
            setTimeout(reset, 700);
        }

        // Event Listeners for Rock, Paper and Scissors
        const rock = document.querySelector('#rock');
        rock.addEventListener('click', function() {
            let playerChoice = "Rock";
            playRound(playerChoice);
        })

        const paper = document.querySelector('#paper');
        paper.addEventListener('click', function() {
            let playerChoice = "Paper";
            playRound(playerChoice);
        })

        const scissors = document.querySelector('#scissors');
        scissors.addEventListener('click', function() {
            let playerChoice = "Scissors";
            playRound(playerChoice);
        })

    </script>
</body>
</html>